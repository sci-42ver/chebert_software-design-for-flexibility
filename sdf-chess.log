Welcome to Racket v8.13 [cs].
14
'(foo a b d)
'expect-value:
'(foo a b d)
'(foo a b)
test (compose f)
1
3
old-piece:<4, 4>
current-piece:<4, 5>
multiple captured
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bp |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+

(#(struct:piece black #(struct:coords 7 3) en-passant-pawn) #(struct:piece black #(struct:coords 4 5) pawn))
one captured
one captured
(the white queen at <4, 4> moves to <3, 5>
  by sliding northwest
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |<wQ>| bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <2, 6>
  by sliding northwest
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |<wQ>|    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <1, 7>
  by sliding northwest
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |<wQ>|    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <5, 5>
  by sliding northeast
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |<wQ>|    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <6, 6>
  by sliding northeast
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |<wQ>|    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <3, 3>
  by sliding southwest
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |<wQ>|    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <5, 3>
  by sliding southeast
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |<wQ>| wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <6, 2>
  by sliding southeast
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |<wQ>|    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <7, 1>
  by sliding southeast
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |<wQ>|
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <4, 5>
  capturing the black en-passant-pawn at <7, 3>
  by sliding north
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    |<wQ>|    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <4, 3>
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |<wQ>|    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <4, 2>
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |<wQ>|    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <4, 1>
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |<wQ>|    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <4, 0>
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |<wQ>|    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <5, 4>
  by sliding east
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|<wQ>|    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <6, 4>
  by sliding east
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |<wQ>|    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white queen at <4, 4> moves to <7, 4>
  by sliding east
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN |(wQ)|    |    |<wQ>|
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white bishop at <2, 2> moves to <1, 3>
  by sliding northwest
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    |(wB)|    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |<wB>|    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white bishop at <2, 2> moves to <0, 4>
  by sliding northwest
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    |(wB)|    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |<wB>|    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white bishop at <2, 2> moves to <3, 3>
  by sliding northeast
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    |(wB)|    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |<wB>|    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white bishop at <2, 2> moves to <3, 1>
  by sliding southeast
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |<wB>|    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    |(wB)|    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white bishop at <2, 2> moves to <4, 0>
  by sliding southeast
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |<wB>|    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    |(wB)|    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white pawn at <5, 6> moves to <5, 7>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    |(wP)|    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |<wP>|    | wr |
  +----+----+----+----+----+----+----+----+
 the white knight at <3, 4> moves to <4, 6>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    |(wN)| wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |<wN>| wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white knight at <3, 4> moves to <5, 5>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    |(wN)| wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |<wN>|    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white knight at <3, 4> moves to <2, 6>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    |(wN)| wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |<wN>|    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white knight at <3, 4> moves to <5, 3>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |<wN>| wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    |(wN)| wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white knight at <3, 4> moves to <4, 2>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |<wN>|    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    |(wN)| wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white knight at <3, 4> moves to <1, 5>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    |(wN)| wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |<wN>|    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white knight at <3, 4> moves to <1, 3>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |<wN>|    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    |(wN)| wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white pawn at <6, 3> moves to <6, 4>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    |(wP)| bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |<wP>|    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white pawn at <6, 3> moves to <7, 4>
  capturing the black en-passant-pawn at <7, 3>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    |(wP)|(bp)|
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |<wP>|
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white pawn at <1, 1> moves to <1, 2>
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    |(wP)|    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |<wP>| wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-king at <4, 7> moves to <3, 6>
 and changes into a king
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |<wK>|    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    |(wk)|    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-king at <4, 7> moves to <4, 6>
 and changes into a king
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |<wK>| wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    |(wk)|    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-king at <4, 7> moves to <5, 7>
 and changes into a king
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    |(wk)|<wK>|    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-king at <4, 7> moves to <3, 7>
 and changes into a king
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |<wK>|(wk)|    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <3, 7>
  by castling
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    | wk |<wr>|(wk)|    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <0, 6>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |<wR>|    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <0, 5>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |<wR>|    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <0, 4>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |<wR>|    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <0, 3>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |<wR>|    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <0, 2>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |<wR>|    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <0, 1>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |<wR>| wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <0, 0>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |<wR>|    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <1, 7>
 and changes into a rook
  by sliding east
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|<wR>|    |    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <2, 7>
 and changes into a rook
  by sliding east
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |<wR>|    | wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <0, 7> moves to <3, 7>
 and changes into a rook
  by sliding east
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 |(wr)|    |    |<wR>| wk |    |    | wr |
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <7, 7> moves to <5, 7>
  by castling
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    |(wk)|<wr>| wk |(wr)|
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <7, 7> moves to <7, 6>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |<wR>|
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    |(wr)|
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <7, 7> moves to <7, 5>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |<wR>|
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    |(wr)|
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <7, 7> moves to <7, 4>
 and changes into a rook
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |<wR>|
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    |(wr)|
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <7, 7> moves to <7, 3>
 and changes into a rook
  capturing the black en-passant-pawn at <7, 3>
  by sliding south
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP |<wR>|
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |    |(wr)|
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <7, 7> moves to <6, 7>
 and changes into a rook
  by sliding west
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |    |<wR>|(wr)|
  +----+----+----+----+----+----+----+----+
 the white initial-rook at <7, 7> moves to <5, 7>
 and changes into a rook
  by sliding west
    0    1     2    3    4   5    6     7
  +----+----+----+----+----+----+----+----+
0 |    |    |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
1 |    | wP |    |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
2 |    |    | wB |    |    |    |    |    |
  +----+----+----+----+----+----+----+----+
3 |    |    |    |    |    |    | wP | bP |
  +----+----+----+----+----+----+----+----+
4 |    |    |    | wN | wQ |    |    |    |
  +----+----+----+----+----+----+----+----+
5 |    |    |    |    | bP |    |    |    |
  +----+----+----+----+----+----+----+----+
6 |    |    |    |    |    | wP |    |    |
  +----+----+----+----+----+----+----+----+
7 | wr |    |    |    | wk |<wR>|    |(wr)|
  +----+----+----+----+----+----+----+----+
)
end test

